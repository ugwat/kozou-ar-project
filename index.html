<!-- スタイルシートの変更部分 -->
<style>
  /* レトロスタイルのメイン画面 - 透過設定 */
  #retro-start-screen {
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none; /* タッチイベントをARシーンに通す */
    z-index: 999;
    display: none;
  }
  
  /* 外枠 - 完全透過背景 */
  .retro-frame {
    width: 90%;
    max-width: 500px;
    height: 90%;
    max-height: 90vh;
    border: 3px solid rgba(0, 255, 0, 0.8);
    box-shadow: 0 0 15px rgba(0, 255, 0, 0.5), inset 0 0 15px rgba(0, 255, 0, 0.3);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 4% 4%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotateX(5deg);
    transform-style: preserve-3d;
    background-color: rgba(0, 0, 0, 0.3); /* 非常に薄い背景 */
    pointer-events: auto; /* クリックを有効に */
  }
  
  /* その他のスタイルは同じ... */
</style>

<!-- スクリプトの変更部分 -->
<script>
  // ARとUIの表示順序の調整
  function startARWithUI() {
    // まずARシーンを作成
    createARScene();
    
    // ARシステムのリファレンスを取得
    const sceneEl = document.querySelector('a-scene');
    
    sceneEl.addEventListener('loaded', function() {
      // ARシーン読み込み完了後、カメラを起動
      const mindARSystem = sceneEl.systems['mindar-image-system'];
      mindARSystem.start();
      
      // カメラ起動後にUIを表示
      setTimeout(() => {
        retroStartScreen.style.display = 'block';
      }, 1000);
    });
  }
  
  // 初期化処理の修正
  document.addEventListener("DOMContentLoaded", function() {
    updateDebugStatus("DOM読み込み完了");
    
    // リソースの読み込みを模倣
    setTimeout(() => {
      updateDebugStatus("リソース読み込み完了");
      
      // ローディング画面を非表示
      loadingScreen.style.display = 'none';
      
      // ARとUIを同時に起動
      startARWithUI();
      
      // タイピングアニメーションを開始
      const text1 = typingText1.textContent;
      const text2 = typingText2.textContent;
      typingText1.textContent = "";
      typingText2.textContent = "";
      
      typeWriter(typingText1, text1, 0, function() {
        typeWriter(typingText2, text2, 0);
      });
    }, 1500);
  });
  
  // スタートボタンクリック時の処理
  startButton.addEventListener('click', function() {
    updateDebugStatus("ARエクスペリエンス開始ボタンがクリックされました");
    
    // UIを非表示
    retroStartScreen.style.display = 'none';
  });
</script>