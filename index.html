<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>KOZOU+ AR Experience</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { width: 100%; height: 100%; background: #000; overflow: hidden; position: fixed; }

  #loading-screen {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:black;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    z-index:1000;
    color:white;
  }

  #ar-container {
    width: 100%; height: 100%;
    position: fixed;
    top: 0; left: 0;
    z-index: 1;
    display: none;
  }

  #camera-view {
    position: absolute;
    width: 100%; height: 100%;
    object-fit: cover;
    z-index: 10;
    background: #000;
  }

  .scene {
    position: absolute;
    width: 100%; height: 100%;
    transform-style: preserve-3d;
    perspective: 1400px;
    z-index: 20;
  }

  .carousel {
    position: absolute;
    width: 100%;
    height: 75%;
    bottom: 12%;
    transform-style: preserve-3d;
    transform: rotateX(20deg);
    transition: transform 0.3s ease-out;
  }

  .card-wrapper {
    position: absolute;
    width: 280px;
    height: 400px;
    transform-style: preserve-3d;
    opacity: 1;
    left: 50%;
    top: 50%;
    margin-left: -140px;
    margin-top: -200px;
    transition: transform 0.5s ease-out, opacity 0.5s ease-out;
  }

  .card {
    position: absolute;
    width: 100%;
    height: 10px;
    bottom: 0;
    background: url('./assets/1waku.png') no-repeat center/cover;
    border-radius: 12px;
    opacity: 0.8;
    filter: drop-shadow(0 0 25px rgba(0,255,255,0.9)) drop-shadow(0 0 50px rgba(0,255,255,0.6));
    transition: height 2.5s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 2.5s;
  }

  .overlay {
    position: absolute;
    top:0; left:0;
    width:100%; height:100%;
    background: radial-gradient(ellipse at center, rgba(0,0,0,0) 30%, rgba(0,0,0,0.6) 100%);
    z-index:15;
    pointer-events: none;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>
</head>
<body>

<div id="loading-screen">
  <div style="border:5px solid rgba(0,200,255,0.1); border-top:5px solid #00c8ff; border-radius:50%; width:50px; height:50px; animation:spin 1s linear infinite; margin-bottom:20px;"></div>
  <div>読み込み中...</div>
  <button id="start-button" style="margin-top:20px; padding:15px 30px; background:#00a2ff; color:white; border:none; border-radius:5px; font-size:18px; cursor:pointer;">AR体験を開始</button>
</div>

<div id="ar-container">
  <video id="camera-view" autoplay playsinline muted></video>
  <div class="overlay"></div>
  <div class="scene">
    <div class="carousel"></div>
  </div>
</div>

<script>
let activeCardIndex = 0;
let isSwipeEnabled = false;
const layoutConfig = {
  radius: window.innerWidth * 1.4,  //*
